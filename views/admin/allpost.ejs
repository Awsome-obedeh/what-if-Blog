<%- include('header.ejs') %>

  <!-- Jumbotron -->

<div class="container mt-4">

    <div class="row gx-4 gx-lg-5 justify-content-center">
    <div class="pt-5 p-4 shadow-4 m-5 rounded-3" style="background-color:hsl(200.94deg 28.74% 65.74%);">
    <h2>Posts made By Admin </h2>


    <hr class="my-4" />


  </div>
        
        <!-- Jumbotron -->

        
    
  <% if (success_msg !='') {%>
    <div class="alert alert-success alert-dismissible fade show" role="alert">
      <%= success_msg %>
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
      </div>
  
  <% } %>
    <% for(let i=0; i<posts.length; i++){ %>
        <% let post=posts[i] %>
        <div class="col-sm-12 col-md-3 col-lg-4 col-xl-4">
            <div class="card" style="background-color:hsl(0, 0%, 94%);">
              <div class="bg-image hover-overlay ripple post_image" data-mdb-ripple-color="light">
                <a href="/what-if/admin/post/<%= post._id %>">
                <img src="/img/what-if-post-bg.jpg" alt="" class= "img-fluid " height="50%"> 
                
                    <div class="mask" style="background-color: rgba(251, 251, 251, 0.15);"></div>
                </a>
              </div>
                
                <div class="card-body">
                    <div class="card-title">Title: <small><%= post.title %></small></div>
                  <h5 class="card-title">Description:  <%= post.description  %></h5>
                  <p class="card-text"><%=truncate(post.post,100)  %></p>

                  <p class="post-meta">
                    Posted by <%= post.author %>
                  </p>

                </div>
                <div class="card-footer text-muted"> Date Posted: <%= post.createdAt.toLocaleString() %></div> 
                <div class="d-flex justify-content-around ">
                      <a href="/what-if/admin/edit/<%= post._id  %>" class="alert alert-info rounded-3 m-2">
                          
                            <i class="fas fa-edit" aria-hidden="true"></i>
                        </a>

                          <button type="button" data-bs-toggle="modal" class="alert alert-danger rounded-2 m-2" data-bs-target="#staticBackdrop"> <i class="fas fa-trash" aria-hidden="true"></i></button>
                      <!-- Button trigger modal -->

                          <!-- Modal -->
                          <div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
                            <div class="modal-dialog">
                              <div class="modal-content">
                                <div class="modal-header">
                                  <h1 class="modal-title fs-5" id="staticBackdropLabel">You want to Delete a post ? </h1>
                                  <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                </div>
                                <div class="modal-body">
                                  Click Delete To Delete 
                                </div>
                                <div class="modal-footer">
                                 

                                  <button type="button" class="btn btn-secondary rounded-2" data-bs-dismiss="modal">Close</button>
                                  <form action="/what-if/admin/delete/<%= post._id%>" method="post">
                                    <input type="hidden" name="_method" value="delete">
                                    <button type="submit" class="btn btn-danger rounded "><i class="fas fa-trash"></i>Delete</button>
                                  </form>
                                 
                                </div>
                              </div>
                            </div>
                          </div>
                      </div> 
            
              </div>
            <hr class="my-4" />
            
                    
        </div>
        
    <% } %>
    <!-- Divider-->
          
            
        
        </div>
    </div>
</div>  
<!-- Footer-->

<%- include('../footer.ejs') %>